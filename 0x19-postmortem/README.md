On August 10, 2024, from 14:30 to 16:45 UTC, the API service responsible for user authentication experienced an outage, leading to login failures for approximately 60% of users. The root cause was a memory leak in the authentication service, triggered by an unhandled edge case in the session management code. The issue was first detected at 14:30 UTC through monitoring alerts indicating high latency and increased error rates. The on-call engineer confirmed the authentication failures by 14:35 UTC, and customer complaints were received through support channels. Initial investigations suggested that the high memory usage might be due to increased traffic or a misconfiguration, leading to a review of load balancer logs and a potential DDoS attack. However, by 15:10 UTC, the infrastructure team confirmed that the load was normal and there was no sign of an attack. At 15:30 UTC, the application team joined the investigation after a high memory footprint was observed in the authentication service. By 15:45 UTC, a memory leak was identified in the session management code, where session objects were not being properly garbage collected. A temporary fix was applied at 16:00 UTC by restarting the authentication service to clear the memory, and a permanent fix was implemented by 16:15 UTC to ensure proper handling and release of session objects. The service was fully operational again by 16:45 UTC, with normal error rates and latency. As a corrective measure, the team plans to enhance code review practices, improve automated tests to cover edge cases, and strengthen memory usage monitoring with real-time alerts. Tasks were assigned to patch the session management code, enhance testing, and update monitoring systems, with deadlines ranging from August 12 to August 17, 2024. This postmortem summarizes the incident, identifies the root cause, and outlines the steps taken to prevent future occurrences.
